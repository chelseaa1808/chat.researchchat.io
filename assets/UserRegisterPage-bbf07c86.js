import{d as c,j as e,L as x,P as u}from"./index-bedf31dc.js";import{u as g,B as p}from"./Button-4c1c69df.js";import"./index-85a540d9.js";const w=()=>{const{register:r,handleSubmit:i,formState:{errors:s},watch:o}=g(),[n,t]=useRegisterMutation(),l=c(),m=async a=>{try{await n(a).unwrap()&&l("/login")}catch(d){console.error("Registration failed:",d)}};return e.jsxs("div",{className:"max-w-md mx-auto px-6 py-16",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center",children:"Create a New Account"}),e.jsxs("form",{onSubmit:i(m),className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",...r("username",{required:"Username is required"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.username&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",...r("email",{required:"Email is required"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",...r("password1",{required:"Password is required"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.password1&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.password1.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",...r("password2",{required:"Please confirm your password",validate:a=>a===o("password1")||"Passwords do not match"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.password2&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.password2.message})]}),e.jsx("div",{className:"pt-2",children:e.jsx(p,{type:"submit",disabled:t.isLoading,children:t.isLoading?"Registering...":"Register"})}),e.jsxs("p",{className:"mt-4 text-sm text-center text-gray-600 dark:text-gray-300",children:["Already have an account?"," ",e.jsx(x,{to:u.LOGIN,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]}),t.isError&&e.jsx("p",{className:"text-sm text-red-500",children:"Something went wrong. Please try again."})]})]})};export{w as default};
