import{j as e}from"./client-642ef077.js";import{u as c,B as x,a as u}from"./axios-bfc92966.js";import{y as g,r as p,L as h}from"./authApi-94cdca0f.js";import"./XMarkIcon-e95b6b05.js";import{P as b}from"./main-804f7706.js";import"./index-a0f7b105.js";const v=()=>{const{register:a,handleSubmit:n,formState:{errors:s}}=c(),[y,t]=g(),i=p(),d=async o=>{try{const r=await u.post("https://chat.researchchat.io/api/auth/token/",{username:o.username,password:o.password}),{access:m,refresh:l}=r.data;localStorage.setItem("access_token",m),localStorage.setItem("refresh_token",l),i("/adminpanel/")}catch(r){console.error("Login failed:",r)}};return e.jsxs("div",{className:"max-w-md mx-auto px-6 py-16",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center",children:"Login to Your Account"}),e.jsxs("form",{onSubmit:n(d),className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",...a("username",{required:"Username is required"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.username&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",...a("password",{required:"Password is required"}),className:"w-full px-4 py-2 border rounded-md bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.password&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.password.message})]}),e.jsx("div",{className:"pt-2",children:e.jsx(x,{type:"submit",disabled:t.isLoading,children:t.isLoading?"Logging in...":"Login"})}),e.jsxs("p",{className:"mt-4 text-sm text-center text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",e.jsx(h,{to:b.REGISTER,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Register here"})]}),t.isError&&e.jsx("p",{className:"text-sm text-red-500",children:"Invalid username or password. Please try again."})]})]})};export{v as default};
